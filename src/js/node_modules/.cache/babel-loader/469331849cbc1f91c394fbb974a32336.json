{"ast":null,"code":"import _objectSpread from\"/Users/Krasy8/Projects/GitHub_Projects/FullStackAppWithReact/src/js/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React from\"react\";import{Formik}from\"formik\";import{Input,Button,Tag}from\"antd\";import{addNewStudent}from\"../client\";var inputBottomMargin={marginBottom:\"10px\"};var tagStyle=_objectSpread({backgroundColor:\"#f50\",color:\"white\"},inputBottomMargin);var AddStudentForm=function AddStudentForm(props){return/*#__PURE__*/React.createElement(Formik,{initialValues:{firstName:'',lastName:'',email:'',gender:''},validate:function validate(values){var errors={};if(!values.firstName){errors.firstName=\"First Name required\";}if(!values.lastName){errors.lastName=\"Last Name required\";}if(!values.email){errors.email=\"Email required\";}else if(!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)){errors.email=\"Invalid email address\";}if(!values.gender){errors.gender=\"Gender required\";}else if(![\"MALE\",\"male\",\"FEMALE\",\"female\"].includes(values.gender)){errors.gender=\"Gender must be (MALE, male, FEMALE, female)\";}return errors;},onSubmit:function onSubmit(student,_ref){var setSubmitting=_ref.setSubmitting;addNewStudent(student).then(function(){props.onSuccess();}).catch(function(err){props.onFailure(err);}).finally(function(){setSubmitting(false);});}},function(_ref2){var values=_ref2.values,errors=_ref2.errors,touched=_ref2.touched,handleChange=_ref2.handleChange,handleBlur=_ref2.handleBlur,handleSubmit=_ref2.handleSubmit,isSubmitting=_ref2.isSubmitting,submitForm=_ref2.submitForm,isValid=_ref2.isValid;return/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(Input,{style:inputBottomMargin,name:\"firstName\",onChange:handleChange,onBlur:handleBlur,value:values.firstName,placeholder:\"First name, e.g John\"}),errors.firstName&&touched.firstName&&/*#__PURE__*/React.createElement(Tag,{style:tagStyle},errors.firstName),/*#__PURE__*/React.createElement(Input,{style:inputBottomMargin,name:\"lastName\",onChange:handleChange,onBlur:handleBlur,value:values.lastName,placeholder:\"Last name, e.g Smith\"}),errors.lastName&&touched.lastName&&/*#__PURE__*/React.createElement(Tag,{style:tagStyle},errors.lastName),/*#__PURE__*/React.createElement(Input,{style:inputBottomMargin,name:\"email\",type:\"email\",onChange:handleChange,onBlur:handleBlur,value:values.email,placeholder:\"email, e.g example@gmail.com\"}),errors.email&&touched.email&&/*#__PURE__*/React.createElement(Tag,{style:tagStyle},errors.email),/*#__PURE__*/React.createElement(Input,{style:inputBottomMargin,name:\"gender\",onChange:handleChange,onBlur:handleBlur,value:values.gender,placeholder:\"Gender, e.g Male or Female\"}),errors.gender&&touched.gender&&/*#__PURE__*/React.createElement(Tag,{style:tagStyle},errors.gender),/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return submitForm();},type:\"submit\",disabled:isSubmitting|(touched&&!isValid)},\"Submit\"));});};export default AddStudentForm;","map":{"version":3,"sources":["/Users/Krasy8/Projects/GitHub_Projects/FullStackAppWithReact/src/js/src/forms/AddStudentForm.js"],"names":["React","Formik","Input","Button","Tag","addNewStudent","inputBottomMargin","marginBottom","tagStyle","backgroundColor","color","AddStudentForm","props","firstName","lastName","email","gender","values","errors","test","includes","student","setSubmitting","then","onSuccess","catch","err","onFailure","finally","touched","handleChange","handleBlur","handleSubmit","isSubmitting","submitForm","isValid"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Formik } from \"formik\";\nimport { Input, Button, Tag } from \"antd\";\nimport { addNewStudent } from \"../client\";\n\nconst inputBottomMargin = { marginBottom: \"10px\" };\nconst tagStyle = {backgroundColor: \"#f50\", color: \"white\", ...inputBottomMargin};\n\nconst AddStudentForm = (props) => (\n  <Formik\n    initialValues={{ firstName: '', lastName: '', email: '', gender: '' }}\n    validate={values => {\n      let errors = {};\n\n      if (!values.firstName) {\n        errors.firstName = \"First Name required\";\n      }\n\n      if (!values.lastName) {\n        errors.lastName = \"Last Name required\";\n      }\n\n      if (!values.email) {\n        errors.email = \"Email required\";\n      } else if (\n        !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\n      ) {\n        errors.email = \"Invalid email address\";\n      }\n\n      if (!values.gender) {\n        errors.gender = \"Gender required\";\n      } else if (\n        ![\"MALE\", \"male\", \"FEMALE\", \"female\"].includes(values.gender)\n      ) {\n        errors.gender = \"Gender must be (MALE, male, FEMALE, female)\";\n      }\n\n      return errors;\n    }}\n    onSubmit={(student, { setSubmitting }) => {\n      addNewStudent(student).then(() => {\n        props.onSuccess();\n      })\n      .catch(err => {\n        props.onFailure(err);\n      })\n      .finally(() => {\n        setSubmitting(false);\n      })\n    }}\n  >\n    {({\n      values,\n      errors,\n      touched,\n      handleChange,\n      handleBlur,\n      handleSubmit,\n      isSubmitting,\n      submitForm,\n      isValid\n      /* and other goodies */\n    }) => (\n      <form onSubmit={handleSubmit}>\n        <Input\n          style={inputBottomMargin}\n          name=\"firstName\"\n          onChange={handleChange}\n          onBlur={handleBlur}\n          value={values.firstName}\n          placeholder=\"First name, e.g John\"\n        />\n        {errors.firstName && touched.firstName && (\n          <Tag style={tagStyle}>{errors.firstName}</Tag>\n        )}\n        <Input\n          style={inputBottomMargin}\n          name=\"lastName\"\n          onChange={handleChange}\n          onBlur={handleBlur}\n          value={values.lastName}\n          placeholder=\"Last name, e.g Smith\"\n        />\n        {errors.lastName && touched.lastName && (\n          <Tag style={tagStyle}>{errors.lastName}</Tag>\n        )}\n        <Input\n          style={inputBottomMargin}\n          name=\"email\"\n          type=\"email\"\n          onChange={handleChange}\n          onBlur={handleBlur}\n          value={values.email}\n          placeholder=\"email, e.g example@gmail.com\"\n        />\n        {errors.email && touched.email && (\n          <Tag style={tagStyle}>{errors.email}</Tag>\n        )}\n        <Input\n          style={inputBottomMargin}\n          name=\"gender\"\n          onChange={handleChange}\n          onBlur={handleBlur}\n          value={values.gender}\n          placeholder=\"Gender, e.g Male or Female\"\n        />\n        {errors.gender && touched.gender && (\n          <Tag style={tagStyle}>{errors.gender}</Tag>\n        )}\n        <Button\n          onClick={() => submitForm()}\n          type=\"submit\"\n          disabled={isSubmitting | (touched && !isValid)}\n        >\n          Submit\n        </Button>\n      </form>\n    )}\n  </Formik>\n);\n\nexport default AddStudentForm;\n"]},"metadata":{},"sourceType":"module"}